import streamlit as st

def main():
    st.title("AI 에듀테크 선도교사 유형 테스트")
    st.markdown("#### 아래 질문에 답변하여 당신의 유형을 확인하세요!")

    # 유효한 입력 확인 함수
    def get_valid_input(prompt, options):
        while True:
            choice = st.radio(prompt, options)
            if choice in options:
                return choice
            st.warning("잘못된 입력입니다. 올바른 옵션을 선택해주세요.")

    # 질문 1
    q1 = get_valid_input(
        "Q1. 에듀테크 활용의 주요 목적은 무엇입니까?",
        ["학업 성취", "행복과 정서적 성장", "전문성 강화", "창의적 문제 해결", "기술 탐구"]
    )

    # 질문 2~5
    if q1 == "학업 성취":
        q2 = st.radio("Q2. 수업 효율성을 높였다고 생각하십니까?", ["네", "아니오"])
        q3 = st.radio("Q3. 학습 데이터를 활용하여 성과를 분석하십니까?", ["네", "아니오"])
        q4 = st.radio("Q4. 학생들의 학업 성취를 위해 새로운 기술을 자주 시도하십니까?", ["네", "아니오"])
        q5 = st.radio("Q5. 기술을 활용하여 수업에서 창의적인 변화를 시도하십니까?", ["네", "아니오"])
        if q2 == "네" and q3 == "네":
            result = "유형 1: 성과 지향 학습자"
        elif q4 == "네" and q5 == "네":
            result = "유형 4: 미래 대비 혁신가"
        else:
            result = "유형 2: 협력 중심 학습자"
    elif q1 == "행복과 정서적 성장":
        q2 = st.radio("Q2. 기술이 학생들의 정서적 성장에 영향을 미친다고 생각하십니까?", ["네", "아니오"])
        q3 = st.radio("Q3. 학생들과의 소통을 통해 학습 효과를 높였다고 느끼십니까?", ["네", "아니오"])
        q4 = st.radio("Q4. 정서적 성장을 위해 새로운 활동을 자주 도입하십니까?", ["네", "아니오"])
        q5 = st.radio("Q5. 학생들과의 공감을 위해 기술 활용 방식을 바꾸는 것을 선호하십니까?", ["네", "아니오"])
        if q2 == "네" and q3 == "네":
            result = "유형 2: 협력 중심 학습자"
        elif q4 == "네" and q5 == "네":
            result = "유형 4: 미래 대비 혁신가"
        else:
            result = "유형 3: 전문성 강화 탐구자"
    elif q1 == "전문성 강화":
        q2 = st.radio("Q2. 새로운 기술 도구를 실험해보는 것을 즐기십니까?", ["네", "아니오"])
        q3 = st.radio("Q3. 기술 도구를 통해 스스로의 역량을 강화하고 있다고 느끼십니까?", ["네", "아니오"])
        q4 = st.radio("Q4. 전문성을 키우기 위해 기술을 통한 협업을 자주 활용하십니까?", ["네", "아니오"])
        q5 = st.radio("Q5. 새로운 기술의 활용 가능성을 탐구하는 데 흥미를 느끼십니까?", ["네", "아니오"])
        if q2 == "네" and q3 == "네":
            result = "유형 3: 전문성 강화 탐구자"
        elif q4 == "네" and q5 == "네":
            result = "유형 5: 기술 탐구형 교사"
        else:
            result = "유형 2: 협력 중심 학습자"
    elif q1 == "창의적 문제 해결":
        q2 = st.radio("Q2. 학생들의 창의적 문제 해결 능력을 키우는 것이 중요하다고 생각하십니까?", ["네", "아니오"])
        q3 = st.radio("Q3. 기술이 미래 사회 대비에 효과적이라고 생각하십니까?", ["네", "아니오"])
        q4 = st.radio("Q4. 창의성을 높이기 위한 새로운 도구를 시도해보셨습니까?", ["네", "아니오"])
        q5 = st.radio("Q5. 기술을 활용하여 혁신적인 문제 해결 방식을 도입하고자 하십니까?", ["네", "아니오"])
        if q2 == "네" and q3 == "네":
            result = "유형 4: 미래 대비 혁신가"
        elif q4 == "네" and q5 == "네":
            result = "유형 3: 전문성 강화 탐구자"
        else:
            result = "유형 2: 협력 중심 학습자"
    elif q1 == "기술 탐구":
        result = "유형 5: 기술 탐구형 교사"

    # 결과 출력
    if st.button("결과 보기"):
        st.markdown(f"### 당신의 유형은 **{result}**입니다!")
        explanations = {
            "유형 1: 성과 지향 학습자": "학생들의 학업 성취를 최우선 목표로 삼고, 체계적인 데이터 분석과 기술 활용을 통해 개별 학생의 성과를 극대화하며, 효율적이고 실질적인 교육 방식을 중시하는 교사입니다.",
            "유형 2: 협력 중심 학습자": "학생들과의 협력과 소통을 통해 학습 과정에서의 참여를 유도하며, 공동체적 학습 환경을 조성하고 학생 간 상호작용을 활성화하는 데 기술을 효과적으로 활용하는 교사입니다.",
            "유형 3: 전문성 강화 탐구자": "교사로서의 역량을 강화하기 위해 끊임없이 새로운 기술과 교육 방법을 실험하며, 자신의 한계를 극복하고 학생들에게 더 나은 학습 환경을 제공하기 위해 노력하는 교사입니다.",
            "유형 4: 미래 대비 혁신가": "학생들에게 창의적 사고와 문제 해결 능력을 길러주기 위해 최신 기술을 적극적으로 활용하고, 전통적인 교육 방식을 넘어 미래 사회의 변화에 대비할 수 있는 혁신적인 학습 방법을 도입하는 교사입니다.",
            "유형 5: 기술 탐구형 교사": "기술에 대한 호기심과 탐구심이 강하며, 새로운 도구와 플랫폼을 실험하고 이를 교육 현장에 창의적으로 적용하여 학생들에게 기술의 가능성과 흥미를 전달하는 교사입니다."
        }
        st.info(explanations[result])

    # 스타일 적용
    st.markdown(
        """
        <style>
        body {
            background-color: black;
            color: white;
            font-family: "궁서", serif;
        }
        </style>
        """,
        unsafe_allow_html=True
    )

if __name__ == "__main__":
    main()
